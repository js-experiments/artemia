var artemia=function(g){function h(a,c,e){return{storeType:e,storeName:c,isAvailable:function(){try{a.setItem("testKey","testValue"),a.removeItem("testKey")}catch(b){return!1}return!0},get:function(b,f){var d=JSON.parse(a.getItem(this.storeName+"|"+b));d?(d.key=b,f(d)):f(null)},remove:function(b,f){var d=this.storeName+"|"+(typeof b==="string"?b:b.key);a.removeItem(d);f&&f(d)},save:function(b,f){var d=this.storeName+"|"+(b.key||g.guidGenerator());delete b.key;a.setItem(d,JSON.stringify(b));b.key=
d.split("|")[1];f(b)},all:function(b){var f=[],d,e=a.length,c,g,h;for(d=0;d<e;d+=1)if(c=a.key(d),h=c.split("|")[0],g=c.split("|").slice(1).join("|"),h===this.storeName)c=JSON.parse(a.getItem(c)),c.key=g,f.push(c);b(f)},drop:function(a){var c=this;this.all(function(a){for(var b in a)a.hasOwnProperty(b)&&c.remove(a[b].key,null)});a&&a()}}}g.get_SESSION_store=function(a,c){var e=h(window.sessionStorage,a,c);e.isAvailable()||(e=null);return e};g.get_LOCAL_store=function(a,c){var e=h(window.localStorage,
a,c);e.isAvailable()||(e=null);return e};g.get_GLOBAL_store=function(a,c,e){a=h(window.globalStorage[e],a,c);a.isAvailable()||(a=null);return a};return g}(artemia);